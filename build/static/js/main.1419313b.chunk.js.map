{"version":3,"sources":["../../mesto-react/src/components/Header.js","../../mesto-react/src/components/PopupWithForm.js","../../mesto-react/src/components/ImagePopup.js","../../mesto-react/src/context/CurrentUserContext.js","../../mesto-react/src/components/EditProfilePopup.js","../../mesto-react/src/components/EditAvatarPopup.js","../../mesto-react/src/components/AddPlacePopup.js","../../mesto-react/src/components/Card.js","../../mesto-react/src/utils/api.js","../../mesto-react/src/components/Main.js","../../mesto-react/src/components/Footer.js","../../mesto-react/src/components/App.js","../../mesto-react/src/serviceWorker.js","../../mesto-react/src/index.js","../../mesto-react/src/images/logo_white.svg"],"names":["Header","react_default","a","createElement","className","src","logo","alt","PopupWithForm","props","concat","name","isOpen","noValidate","type","onClick","onClose","title","children","ImagePopup","card","style","backgroundImage","link","CurrentUserContext","React","createContext","EditProfilePopup","_React$useState","useState","_React$useState2","Object","slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","currentUser","useContext","useEffect","about","components_PopupWithForm","id","placeholder","pattern","required","minLength","maxLength","value","onChange","e","target","preventDefault","onUpdateUser","EditAvatatPopup","avatarRef","useRef","ref","onUpdateAvatar","current","AddPlacePopup","imgLinkRef","imgNameRef","onAddPlace","Card","isOwn","cardData","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","onCardClick","onCardLike","length","api","Api","data","classCallCheck","this","_baseUrl","baseUrl","_authorizationNumber","authorizationNumber","fetch","headers","authorization","then","_returnErrorResponse","newUserName","newUserDescription","method","Content-Type","body","JSON","stringify","newCardName","newCardLink","console","log","avatarLink","avatar","cardId","methodName","res","ok","json","Promise","reject","status","Main","onEditAvatar","onEditProfile","Array","from","cards","map","components_Card","key","components_EditProfilePopup","isEditProfilePopupOpen","EditAvatarPopup","isEditAvatarPopupOpen","components_AddPlacePopup","isAddPlacePopupOpen","onAddNewPlace","components_ImagePopup","Footer","App","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","_React$useState5","_React$useState6","setIsEditAvatarPopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","setCurrentUser","_React$useState11","_React$useState12","setCards","closeAllPopups","getUserInfo","userInfoData","catch","error","getInitialCards","cardsInfoData","components_Header","Provider","components_Main","userName","userDescription","patchUserInfo","objectSpread","patchAvatar","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","item","postNewCard","toConsumableArray","components_Footer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.1419313b.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo_white.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\"> \n    <img className= \"header__logo\" src={logo} alt=\"Логотип Mesto.\" />\n  </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n      <section className={`popup popup-with-form popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>  \n        <form name={`${props.name}`} className={`popup__container popup__container_for-form popup__container_type_${props.name}`} noValidate>  \n          <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button> \n          <p className=\"popup__title\">{props.title}</p> \n          <fieldset className=\"popup__list\"> \n            {props.children}\n          </fieldset>\n        </form> \n        </section> \n    );\n  }\n\n  export default PopupWithForm","import React from 'react';\n\nfunction ImagePopup(props) { \n  return (\n    <section className={`popup popup_image ${props.card !== null && 'popup_opened'}`}>\n      <div className=\"popup__container\">  \n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button> \n        <div className=\"popup__image\" style={{ backgroundImage: `url(${props.card !== null && props.card.link})` }}  > </div>\n        <p className=\"popup__title popup__title_for-image\">{props.card !== null && props.card.name}</p> \n      </div> \n    </section> \n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) { \n  const [name, setName] = React.useState([]);\n  const [description, setDescription] = React.useState([]);\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser !== null && currentUser.name);\n    setDescription(currentUser !== null && currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser(name, description);\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose}>  \n      <input id=\"name-input\" type=\"text\" className=\"popup__input\" name=\"name\" placeholder=\"Имя\" pattern=\"[a-zA-Zа-яА-Я\\s\\-]+\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange} /> \n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      <input id=\"description-input\" type=\"text\" className=\"popup__input\" name=\"description\" placeholder=\"Описание\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} /> \n      <span id=\"description-input-error\" className=\"popup__input-error\"></span>\n      <button type=\"submit\" className=\"popup__save-button popup__save-button_active \" onClick={handleSubmit}>Сохранить</button> \n    </PopupWithForm> \n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n//import { CurrentUserContext } from '../context/CurrentUserContext.js';\n\nfunction EditAvatatPopup(props) { \n  const avatarRef = React.useRef();\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onUpdateAvatar(avatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose}>\n      <input id=\"avatar-input\" type=\"url\" className=\"popup__input\" name=\"avatar\" placeholder=\"Ссылка на фотографию\" ref={avatarRef} required /> \n      <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      <button type=\"submit\" className=\"popup__save-button popup__save-button_active\" onClick={handleSubmit}>Сохранить</button> \n    </PopupWithForm> \n  );\n}\n\nexport default EditAvatatPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) { \n  const imgLinkRef = React.useRef();\n  const imgNameRef = React.useRef();\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace(imgNameRef.current.value, imgLinkRef.current.value);\n  }\n\n  return (\n    <PopupWithForm name=\"newplace\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose}>\n      <input ref={imgNameRef} id=\"place-input\" type=\"text\" className=\"popup__input\" name=\"name\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" /> \n      <span id=\"place-input-error\" className=\"popup__input-error\"></span>\n      <input ref={imgLinkRef} id=\"link-input\" type=\"url\" className=\"popup__input\" name=\"link\" placeholder=\"Ссылка на картинку\" required /> \n      <span id=\"link-input-error\" className=\"popup__input-error\"></span>\n      <button type=\"submit\" className=\"popup__save-button popup__save-button_active\" onClick={handleSubmit}>Создать</button> \n    </PopupWithForm> \n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);  \n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.cardData.owner._id === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `card__remove-button ${isOwn ? 'card__remove-button_active' : 'card__delete-button_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователе\n  const isLiked = props.cardData.likes.some(i => i._id === currentUser._id);\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked ? 'card__like-button_active' : 'card__like-button_hidden'}`\n  );\n\n  function handleClick () {\n    props.onCardClick({\n      name: props.cardData.name,\n      link: props.cardData.link\n    });\n  }\n\n  function handleLikeClick () {\n    props.onCardLike(props.cardData)\n  }\n\n  function handleLikeDelete () {\n    props.onCardDelete(props.cardData)\n  }\n\n\n  return (\n    <article className=\"card\">\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleLikeDelete}></button>\n        <div className=\"card__image\" style={{ backgroundImage: `url(${props.cardData.link})` }} onClick={handleClick}></div>\n        <p className=\"card__name\">{props.cardData.name}</p>\n        <div className=\"card__like-block\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"card__like-amount\">{props.cardData.likes.length}</p>\n        </div>\n      </article>\n  );\n}\n\n\nexport default Card;","class Api {\n  constructor(data) {\n    this._baseUrl = data.baseUrl\n    this._authorizationNumber = data.authorizationNumber\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {headers: {\n      authorization: this._authorizationNumber\n      }\n    })\n    .then(this._returnErrorResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {headers: {\n      authorization: this._authorizationNumber\n      }\n    })\n    .then(this._returnErrorResponse)\n  }\n  \n  patchUserInfo(newUserName, newUserDescription) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._authorizationNumber,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newUserName,\n        about: newUserDescription\n      })\n    })\n    .then(this._returnErrorResponse)\n  }\n  \n  postNewCard (newCardName, newCardLink) {\n    console.log(newCardLink)\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._authorizationNumber,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: newCardName,\n        link: newCardLink\n      })\n    })\n  .then(this._returnErrorResponse)\n  }\n\n  patchAvatar(avatarLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._authorizationNumber,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: avatarLink\n      })\n    })\n    .then(this._returnErrorResponse)\n  }\n\n  changeLikeCardStatus (cardId, isLiked) {\n    let methodName = (isLiked === true? 'PUT' : 'DELETE')\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: methodName,\n      headers: {\n        authorization: this._authorizationNumber\n        }\n    })\n  .then(this._returnErrorResponse)\n  }\n\n\n  deleteCard (cardId) {\n    console.log(`${this._baseUrl}/cards/${cardId}`)\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._authorizationNumber\n        }\n    })\n  .then(this._returnErrorResponse)\n  }\n\n  _returnErrorResponse(res) {\n    if (res.ok) {\n      return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  authorizationNumber: '700729c8-6f90-4ed7-bfdf-eebcd18bcb3c'\n})\n\nexport default api;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport Card from './Card';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\n\nfunction Main(props) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n  const name = (currentUser !== null && currentUser.name);\n  const avatar = (currentUser !== null && currentUser.avatar);\n  const description = (currentUser !== null && currentUser.about);\n  \n\n  return (\n    <main className=\"content\">\n    <section className=\"profile\">\n      <div className=\"profile__avatar-box\">\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${avatar})` }}></div>\n        <button className=\"profile__avatar-edit-button\" onClick={props.onEditAvatar}></button>\n      </div>\n      <div className=\"profile__info\">\n        <div className=\"profile__first-line\"> \n          <p className=\"profile__name\">{name}</p>\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n        </div>\n        <p className=\"profile__description\">{description}</p>\n      </div>\n      <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n    </section>\n\n    <section className=\"cards\">\n      {Array.from(props.cards).map(card =>\n      <Card cardData ={card} onCardClick={props.onCardClick} key = {card._id} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\n      )}\n    </section>\n\n    <EditProfilePopup isOpen={props.isEditProfilePopupOpen} onClose={props.onClose} onUpdateUser={props.onUpdateUser} />\n\n    <EditAvatarPopup isOpen={props.isEditAvatarPopupOpen} onClose={props.onClose} onUpdateAvatar={props.onUpdateAvatar}/> \n\n    <AddPlacePopup isOpen={props.isAddPlacePopupOpen} onClose={props.onClose} onAddPlace={props.onAddNewPlace} /> \n    \n    <PopupWithForm name=\"removeCard\" title=\"Вы уверенны?\">\n      <button type=\"submit\" className=\"popup__save-button popup__save-button_active popup__save-button_for-remove\">Да</button>\n    </PopupWithForm> \n    \n    <ImagePopup card={props.card} onClose={props.onClose} />\n\n  </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n    <p className=\"footer__copyright\"> &copy; 2020 Mesto Russia</p>\n  </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] =React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((userInfoData) => {\n      setCurrentUser(userInfoData);\n    })\n    .catch(() => {\n      console.error('Что-то пошло не так.');\n    });\n  }, []);\n  \n\n  React.useEffect(() => {\n    api.getInitialCards()\n    .then(cardsInfoData => {\n      Array.from(cardsInfoData)\n      setCards(cardsInfoData);\n    })\n    .catch(() => {\n      console.error('Что-то пошло не так.');\n    });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n    const newCards = cards.filter(function(item) {\n      return card._id !== item._id;\n      });\n      setCards(newCards);\n    });\n  }\n\n\n  function handleCardClick (card){\n    setSelectedCard({\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null)\n  }\n  function handleUpdateUser(userName, userDescription) {\n    api.patchUserInfo(userName, userDescription).then((data) => {\n      setCurrentUser({\n        ...currentUser,\n        name: data.name,\n        about: data.about\n      });\n      closeAllPopups()\n    });\n  }\n  function handleUpdateAvatar (avatarLink) {\n    api.patchAvatar(avatarLink).then((data) => {\n      setCurrentUser({\n        ...currentUser,\n        avatar: data.avatar\n      });\n      closeAllPopups()\n    });\n  }\n\n  function handleAddNewPlace (name, link) {\n    api.postNewCard(name, link).then((newCard) => {\n      setCards([...cards, newCard]);\n      closeAllPopups()\n    });\n  }\n\n  return (\n   <div className=\"root\"> \n    <Header />\n    <CurrentUserContext.Provider value={currentUser}>\n    <Main \n    onEditProfile ={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} \n    onCardClick = {handleCardClick}\n    onClose={closeAllPopups}\n    onUpdateUser={handleUpdateUser}\n    onUpdateAvatar={handleUpdateAvatar}\n    isEditAvatarPopupOpen={isEditAvatarPopupOpen} \n    isAddPlacePopupOpen={isAddPlacePopupOpen} \n    isEditProfilePopupOpen={isEditProfilePopupOpen} \n    card={selectedCard} \n    cards={cards} \n    onCardLike={handleCardLike}\n    onCardDelete={handleCardDelete}\n    onAddNewPlace={handleAddNewPlace}\n    />\n    </CurrentUserContext.Provider>\n    <Footer />\n  \n   </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo_white.e889e45f.svg\";"],"sourceRoot":""}